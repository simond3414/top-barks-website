# Cloudflare Pages configuration for Top Barks website
name = "top-barks-website"

# Pages build output directory (required for Pages projects)
pages_build_output_dir = "./dist"

# Compatibility settings
compatibility_date = "2024-02-01"
compatibility_flags = ["nodejs_compat"]

# KV Namespaces
[[kv_namespaces]]
binding = "SESSION"
id = "f506cc6e06674f0a98f48372f19d6651"

[[kv_namespaces]]
binding = "REVIEWS"
id = "f506cc6e06674f0a98f48372f19d6651"

# R2 Bucket for storing client resources
# Create with: wrangler r2 bucket create topbarks-resources
[[r2_buckets]]
binding = "TOPBARKS_RESOURCES"
bucket_name = "topbarks-resources"

# Note: Secrets (RESEND_API_KEY, GOOGLE_PLACES_API_KEY, ADMIN_PASSWORD) 
# should be set in Cloudflare Dashboard as encrypted secrets

# Environment variables (text values)
[vars]
RESEND_FROM_EMAIL = "noreply@noreply.topbarks.co.uk"
CONTACT_EMAIL = "mark@topbarks.co.uk"
RESEND_TEST_MODE = "false"
